---
phase: 09-typography-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/layout.tsx
  - app/globals.css
autonomous: true

must_haves:
  truths:
    - "Body text renders in Libre Baskerville, not Geist Sans or system sans-serif"
    - "Monospace elements render in Courier Prime, not Geist Mono or system monospace"
    - "Headings scale fluidly between mobile and desktop via clamp() without breakpoint jumps"
    - "Body text has line-height 1.7 for comfortable reading"
  artifacts:
    - path: "app/layout.tsx"
      provides: "Libre Baskerville and Courier Prime font loading via next/font/google"
      contains: "Libre_Baskerville"
    - path: "app/globals.css"
      provides: "Type scale with clamp() headings, line-height 1.7, max-width 65ch, letter-spacing utilities"
      contains: "clamp("
  key_links:
    - from: "app/layout.tsx"
      to: "app/globals.css"
      via: "CSS custom properties --font-serif and --font-mono"
      pattern: "--font-serif|--font-mono"
---

<objective>
Replace the default Geist font stack with Libre Baskerville (serif) and Courier Prime (mono), and establish the foundational type scale with responsive heading sizes, comfortable body text metrics, and Tailwind CSS variable integration.

Purpose: This is the typographic identity foundation. Every component will inherit these fonts and scale settings. Without this, the app looks like stock Next.js.
Output: Updated font loading in layout.tsx, type scale and CSS custom properties in globals.css.
</objective>

<execution_context>
@/Users/yayseth/.claude/get-shit-done/workflows/execute-plan.md
@/Users/yayseth/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@app/layout.tsx
@app/globals.css
@bitcoinecho-org/index.html (typography reference -- extract heading scale, line-height, letter-spacing patterns)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace Geist fonts with Libre Baskerville and Courier Prime</name>
  <files>app/layout.tsx</files>
  <action>
Replace the Geist and Geist_Mono imports with Libre_Baskerville and Courier_Prime from `next/font/google`.

Libre Baskerville configuration:
- Import: `Libre_Baskerville` from "next/font/google"
- variable: `"--font-serif"`
- subsets: `["latin"]`
- weight: `["400", "700"]` (400 for body/regular headings, 700 for bold headings)
- style: `["normal", "italic"]` (italic needed for emphasis in conversation text)

Courier Prime configuration:
- Import: `Courier_Prime` from "next/font/google"
- variable: `"--font-mono"`
- subsets: `["latin"]`
- weight: `["400", "700"]`

Update the body className to use the new font variable classes instead of Geist variables:
- `${libreBaskerville.variable} ${courierPrime.variable} antialiased`

Remove the old Geist imports entirely. Do NOT use Geist anywhere.

Variable naming for the font instances: `libreBaskerville` and `courierPrime` (camelCase per project convention).
  </action>
  <verify>Run `npm run build` -- no TypeScript or build errors. Inspect layout.tsx to confirm Geist is fully removed and Libre_Baskerville + Courier_Prime are loaded.</verify>
  <done>layout.tsx loads Libre Baskerville (400, 700, normal + italic) as --font-serif and Courier Prime (400, 700) as --font-mono. No Geist references remain.</done>
</task>

<task type="auto">
  <name>Task 2: Establish type scale and CSS custom properties</name>
  <files>app/globals.css</files>
  <action>
Update globals.css to establish the full typographic foundation. Reference Bitcoin Echo's typography patterns (from bitcoinecho-org/index.html) but adapt for ThreadTutor's three-panel app context.

**1. Update @theme inline block:**
Replace `--font-sans: var(--font-geist-sans)` with `--font-serif: var(--font-serif)` and `--font-mono: var(--font-geist-mono)` with `--font-mono: var(--font-mono)`.

Note: Tailwind 4's @theme inline block needs to reference the CSS variables set by next/font. The font variables set on the body by layout.tsx are `--font-serif` and `--font-mono`. Update the @theme block to:
```css
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-serif: var(--font-serif);
  --font-mono: var(--font-mono);
}
```

**2. Update body font-family:**
Change from `font-family: var(--font-sans), system-ui, sans-serif` to `font-family: var(--font-serif), Georgia, serif`. Add `line-height: 1.7` (matching Bitcoin Echo). The body already has line-height implicitly from Tailwind; make it explicit at 1.7.

**3. Add heading type scale with clamp():**
Add global heading styles inspired by Bitcoin Echo but with ThreadTutor's more restrained hierarchy (per phase context: "subtle size differences, mixed font weights"):

```css
h1, h2, h3, h4 {
  font-family: var(--font-serif), Georgia, serif;
}

h1 {
  font-size: clamp(1.5rem, 2.5vw, 2rem);
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.01em;
}

h2 {
  font-size: clamp(1.25rem, 2vw, 1.5rem);
  font-weight: 400;
  line-height: 1.3;
  letter-spacing: -0.01em;
}

h3 {
  font-size: clamp(1rem, 1.5vw, 1.125rem);
  font-weight: 700;
  line-height: 1.4;
}

h4 {
  font-size: 0.875rem;
  font-weight: 400;
  font-family: var(--font-mono), 'Courier New', monospace;
  text-transform: uppercase;
  letter-spacing: 0.12em;
}
```

This creates a nuanced hierarchy: h1 bold/large, h2 regular weight/medium, h3 bold/smaller, h4 mono/uppercase/small (label-style). The clamp() values are restrained since ThreadTutor is a three-panel app (not a marketing page with hero sections).

**4. Add prose/paragraph max-width:**
```css
.prose p, .prose li {
  max-width: 65ch;
}
```

**5. Add label/badge letter-spacing utility classes as plain CSS:**
These will be used by components in Plan 02. Add after the heading styles:
```css
.type-label {
  font-family: var(--font-mono), 'Courier New', monospace;
  font-size: 0.75rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

.type-label-sm {
  font-family: var(--font-mono), 'Courier New', monospace;
  font-size: 0.625rem;
  letter-spacing: 0.15em;
  text-transform: uppercase;
}
```

**6. Remove old --font-sans references** from the @theme inline block. The project no longer uses a sans-serif font as primary.

Keep ALL existing styles (shimmer animation, React Flow overrides, concept node styles, journal entry animation). Only modify the font/typography sections.
  </action>
  <verify>Run `npm run build` -- no errors. Verify globals.css contains clamp() heading scales, line-height 1.7 on body, --font-serif in @theme block, and type-label utility classes.</verify>
  <done>globals.css establishes: (1) --font-serif and --font-mono in @theme block, (2) serif body font with line-height 1.7, (3) heading scale h1-h4 with clamp() and mixed weights, (4) prose max-width 65ch, (5) type-label utility classes with mono font and letter-spacing.</done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. No references to Geist, Geist_Mono, --font-sans, or --font-geist-* remain in layout.tsx or globals.css
3. globals.css contains `clamp(` in heading rules
4. globals.css body rule has `line-height: 1.7` and `font-family: var(--font-serif)`
5. globals.css has `.type-label` and `.type-label-sm` utility classes
</verification>

<success_criteria>
The app's font foundation is completely replaced: Libre Baskerville serves as the primary serif font for all body text and headings, Courier Prime serves as the monospace font for labels and code elements, headings scale fluidly via clamp(), and body text uses line-height 1.7. All existing styles (animations, React Flow overrides) remain functional.
</success_criteria>

<output>
After completion, create `.planning/phases/09-typography-foundation/09-01-SUMMARY.md`
</output>
